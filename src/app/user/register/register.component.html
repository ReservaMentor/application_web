<mat-card-header>
    <app-navbar></app-navbar>
</mat-card-header>

<mat-card-content>
    <div class= "mainContainer">
        <div class="credentialBox">
        <div class="body">
        <div class="container">
            <form autocomplete="off" [formGroup]="form" (ngSubmit)="signup()">
                <div class="head">
                    <span>Registrate</span>
                </div>
                <div class="inputs">
                    <mat-form-field>
                        <mat-label>Nombres</mat-label>
                        <input matInput type="text" placeholder="Nombres" formControlName="firstName">
                        <mat-error>
                            <ng-container *ngIf="controlHasError('firstName', 'required')"> Este campo es obligatorio</ng-container>
                        </mat-error>
                    </mat-form-field> <br>
                    <mat-form-field>
                        <mat-label>Apellidos</mat-label>
                        <input matInput type="text" placeholder="Apellidos" formControlName="lastName">
                        <mat-error>
                            <ng-container *ngIf="controlHasError('lastName', 'required')"> Este campo es obligatorio</ng-container>
                        </mat-error>
                    </mat-form-field> <br>

                    <mat-form-field>
                        <mat-label>Correo Electronico</mat-label>
                        <input matInput type="email" placeholder="Correo Electronico" formControlName="email"/>
                        <mat-error>
                            <ng-container *ngIf="controlHasError('email','required')"> Este campo es obligatorio</ng-container>
                            <ng-container *ngIf="controlHasError('email','pattern')"> Ingrese un email valido</ng-container>
                        </mat-error>
                    </mat-form-field> <br>
                    
                <mat-form-field>
                    <mat-label>Contraseña</mat-label>
                    <input matInput [type]="passwordVisible ? 'text' : 'password'" placeholder="Contraseña" formControlName="password"/> 
                    <mat-icon matSuffix (click)="passwordVisible = !passwordVisible">
                        {{ passwordVisible ? 'visibility_off': 'visibility'}}
                    </mat-icon>

                    <mat-error>
                        <ng-container *ngIf="controlHasError('password','required')"> Este campo es obligatorio</ng-container>
                        <ng-container *ngIf="controlHasError('required','minlength')"> Ingrese una contraseña de al menos 4 caracteres</ng-container>
                    </mat-error>

                </mat-form-field> <br>

                </div>
                <button class="login" routerLink="/busqueda" [disabled]="!form.valid">Registrate</button> <br>
            </form>
        </div>
        <div class="form-footer">
                <p>Ya tienes cuenta? <a routerLink="/">Ingresa sesion</a></p> 
        </div>
        </div>
        </div>
    </div>
</mat-card-content>

<mat-card-footer>
    <app-footer></app-footer>
</mat-card-footer>